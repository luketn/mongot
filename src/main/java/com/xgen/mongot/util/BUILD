load("//bazel/java:package.bzl", "java_library")

java_library(
    name = "util",
    srcs = [
        "AtomicDirectoryRemover.java",
        "BsonUtils.java",
        "Bytes.java",
        "Check.java",
        "CheckedExceptionUtils.java",
        "CheckedStream.java",
        "CloseablePhantomCleaner.java",
        "CollectionUtils.java",
        "Condition.java",
        "Crash.java",
        "CumulativeDuration.java",
        "DirectorySize.java",
        "DurationUtils.java",
        "Enums.java",
        "Equality.java",
        "ErrorType.java",
        "FieldPath.java",
        "FileUtils.java",
        "FloatCollector.java",
        "FunctionalUtils.java",
        "FutureUtils.java",
        "GlobalMetricFactory.java",
        "HostnameUtils.java",
        "LazyTransformationList.java",
        "LoggableException.java",
        "LoggableIdUtils.java",
        "LoggableRuntimeException.java",
        "MongotVersionResolver.java",
        "NamingUtils.java",
        "NotImplementedException.java",
        "NumericUtils.java",
        "Optionals.java",
        "RepeatableActionFailureException.java",
        "Runtime.java",
        "Shutdown.java",
        "SingleLinkedList.java",
        "Streams.java",
        "TimestampProvider.java",
        "UserFacingException.java",
        "Uuids.java",
        "VerboseRunnable.java",
    ],
    visibility = ["//visibility:public"],
    exports = [
        "@maven//:io_micrometer_micrometer_core",
        "@maven//:org_mongodb_bson",
        "@maven//:org_slf4j_slf4j_api",
    ],
    deps = [
        "//src/main/java/com/xgen/mongot/logging",
        "//src/main/java/com/xgen/mongot/util/functionalinterfaces",
        "@maven//:com_google_code_findbugs_jsr305",
        "@maven//:com_google_errorprone_error_prone_annotations",
        "@maven//:com_google_flogger_flogger",
        "@maven//:com_google_guava_guava",
        "@maven//:commons_io_commons_io",
        "@maven//:io_micrometer_micrometer_core",
        "@maven//:org_apache_commons_commons_collections4",
        "@maven//:org_apache_commons_commons_lang3",
        "@maven//:org_apache_lucene_lucene_core",
        "@maven//:org_jetbrains_annotations",
        "@maven//:org_mongodb_bson",
        "@maven//:org_slf4j_slf4j_api",
    ],
)
