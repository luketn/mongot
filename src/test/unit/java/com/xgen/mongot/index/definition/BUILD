load("//bazel/java:test.bzl", "java_test_suite")

java_test_suite(
    name = "definition",
    srcs = [
        "AnalyzerBoundSearchIndexDefinitionTest.java",
        "AutocompleteFieldDefinitionTest.java",
        "BooleanFieldDefinitionTest.java",
        "DateFacetFieldDefinitionTest.java",
        "DateFieldDefinitionTest.java",
        "DefinitionTests.java",
        "DocumentFieldDefinitionTest.java",
        "DynamicDefinitionTest.java",
        "EmbeddedDocumentsFieldDefinitionTest.java",
        "FieldDefinitionTest.java",
        "FieldHierarchyContextTest.java",
        "FieldTypeDefinitionTest.java",
        "GeoFieldDefinitionTest.java",
        "IndexSortValidatorTest.java",
        "KnnVectorFieldDefinitionTest.java",
        "MaterializedViewIndexDefinitionGenerationTest.java",
        "NumberFacetFieldDefinitionTest.java",
        "NumberFieldDefinitionTest.java",
        "ObjectIdFieldDefinitionTest.java",
        "SearchFieldDefinitionResolverTest.java",
        "SearchIndexDefinitionGenerationTest.java",
        "SearchIndexDefinitionTest.java",
        "SortableDateBetaV1FieldDefinitionTest.java",
        "SortableNumberBetaV1FieldDefinitionTest.java",
        "SortableStringBetaV1FieldDefinitionTest.java",
        "StoredSourceDefinitionTest.java",
        "StringFacetFieldDefinitionTest.java",
        "StringFieldDefinitionTest.java",
        "SynonymMappingDefinitionTest.java",
        "TokenFieldDefinitionTest.java",
        "TypeSetDefinitionTest.java",
        "VectorFieldDefinitionResolverTest.java",
        "VectorIndexDefinitionGenerationTest.java",
        "VectorIndexDefinitionTest.java",
        "VectorIndexFieldMappingTest.java",
        "VectorTextTest.java",
        "ViewDefinitionTest.java",
    ],
    data = ["//src/test/unit/resources/index/definition:srcs"],
    tags = ["unit"],
    deps = [
        "//src/main/java/com/xgen/mongot/embedding/providers/configs",
        "//src/main/java/com/xgen/mongot/index/analyzer/custom",
        "//src/main/java/com/xgen/mongot/index/analyzer/definition",
        "//src/main/java/com/xgen/mongot/index/definition",
        "//src/main/java/com/xgen/mongot/index/path/string",
        "//src/main/java/com/xgen/mongot/index/query/sort",
        "//src/main/java/com/xgen/mongot/index/version",
        "//src/main/java/com/xgen/mongot/util",
        "//src/main/java/com/xgen/mongot/util/bson/parser",
        "//src/main/java/com/xgen/mongot/util/mongodb/serialization",
        "//src/main/java/com/xgen/testing",
        "//src/main/java/com/xgen/testing/mongot/index/analyzer/custom",
        "//src/main/java/com/xgen/testing/mongot/index/analyzer/definition",
        "//src/main/java/com/xgen/testing/mongot/index/definition",
        "//src/main/java/com/xgen/testing/mongot/index/path/string",
        "//src/main/java/com/xgen/testing/mongot/index/query/sort",
        "@maven//:com_google_guava_guava",
        "@maven//:com_google_guava_guava_testlib",
        "@maven//:com_google_truth_truth",
        "@maven//:junit_junit",
        "@maven//:org_apache_commons_commons_collections4",
        "@maven//:org_apache_commons_commons_lang3",
        "@maven//:org_mongodb_bson",
        "@maven//:org_mongodb_mongodb_driver_core",
    ],
)
